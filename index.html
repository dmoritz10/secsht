<!DOCTYPE html5>
<html>
<head>
  
<link rel="manifest" href="manifest.json">

<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, minimum-scale=1">

<meta http-equiv='cache-control' content='no-cache'> 
<meta http-equiv='expires' content='0'> 
<meta http-equiv='pragma' content='no-cache'>


<script src="https://apis.google.com/js/platform.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.17.0/jquery.validate.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

<link rel="stylesheet" href="index.css">

</head>

<body>


<script>

  $(async function () {

    console.log('start code load')

    // load html files
    
    var loadList = $(".load-html")

    for (i = 0; i < loadList.length; i++) {
      
      var src = loadList[i].dataset.source + '.html'
      $(loadList[i]).load(encodeURI(src))
      console.log(src)
    
    }

    // get array of script files to be loaded.  Exclude index-js.js because it must run after all other scripts are fully loaded

    var loadList = $(".load-script")
    var script_arr = []
    for (i = 0; i < loadList.length; i++) {

      var src = loadList[i].dataset.source
      if (src !== 'app.js') {

        script_arr.push(src)
        console.log(src)
      
      }
    }

    // define a function to load array of scripts and wait for all to load before continuing

    $.getMultiScripts = function(arr, path) {
      var _arr = $.map(arr, function(scr) {
        return $.getScript( (path||"") + scr );
      });
        
      _arr.push($.Deferred(function( deferred ){
        $( deferred.resolve );
      }));
        
      return $.when.apply($, _arr);
    }

    await $.getMultiScripts(script_arr).done(function() {
      console.log('load app.js')
      $.getScript( 'app.js' )      // load and run app.js last
      console.log('all scripts loaded')
    });

  console.log('end code load')

  });
    
</script> 
    
    
  
  <div id="main-panel" class="vh-100 m-0 p-0 container-fluid">
  
    <div class="toast-container position-absolute p-3 bottom-0 end-0" >
      <div class="toast text-white bg-primary " id="myToast">
        <div class="toast-body ">
            <h5 id="toast-content" class="d-flex justify-content-center text-center "></h5>
        </div>
      </div>
    </div>

    <div id="overlay" style="z-index: 9999;" ></div>
      
    <div class="tab-content">
  
      <div class="m-0 p-0 tab-pane fade show active disable-scrollbars" id="Auth" >

        <div class="load-html" data-source="auth"></div>
        <div class="load-script d-none" data-source="auth-js.js"></div>
               
      </div> 

      <div class="m-0 p-0 tab-pane fade disable-scrollbars" id="Home">

        <div class="load-html" data-source="home"></div>
        <div class="load-script d-none" data-source="home-js.js"></div>
               
      </div> 

      
      <div class="m-0 p-0 tab-pane fade disable-scrollbars" id="Sheets">

        <div class="load-html" data-source="sheets"></div>
        <div class="load-script d-none" data-source="sheets-js.js"></div>
                        
      </div>        
      
      <div class="m-0 p-0 tab-pane fade disable-scrollbars" id="ShowSheet">

        <div class="load-html" data-source="show sheet"></div>
        <div class="load-script d-none" data-source="show sheet.js"></div>
                              
      </div>        
      

    </div>  
  </div> 

  <div class="load-script d-none" data-source="table-builder.js"></div>
  <div class="load-script d-none" data-source="xhr.js"></div>
  <div class="load-script d-none" data-source="utils.js"></div>
  <div class="load-script d-none" data-source="app.js"></div>
  <div class="load-script d-none" data-source="enc.js"></div>
 
</body>
</html>


